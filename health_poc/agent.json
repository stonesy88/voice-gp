{
  "name": "Clinical Triage Agent",
  "model": {
    "provider": "openai",
    "model": "gpt-4o",
    "messages": [
      {
        "role": "system",
        "content": "You are an advanced medical triage agent. The patient is already identity-verified.\n\n**Protocol:**\n1. Ask the patient what their main symptom is.\n2. When they describe it, IMMEDIATELY call `lookup_medical_graph`.\n3. The tool will return a list of possible conditions from the SNOMED database.\n4. Use those results to ask *one* discriminating question (e.g., 'Does the pain radiate?').\n\n**Style:**\n- Concise. \n- Do not say 'I am checking the database'. Just say 'I see...' or 'Okay...'\n- If the tool returns multiple conditions, ask about the most severe one first."
      }
    ],
    "tools": [
      {
        "type": "function",
        "function": {
          "name": "lookup_medical_graph",
          "description": "Consults the SNOMED clinical graph to find conditions associated with a symptom.",
          "parameters": {
            "type": "object",
            "properties": {
              "symptom": {
                "type": "string",
                "description": "The symptom described by the patient (e.g., 'burning chest pain', 'swollen knee')."
              }
            },
            "required": [
              "symptom"
            ]
          }
        }
      }
    ]
  },
  "voice": {
    "provider": "11labs",
    "voiceId": "flq6f7yk4E4fJM5XTYuZ"
  },
  "firstMessage": "Hello, this is the HealthCore triage line. I have your file open. Could you tell me in your own words what medical issue you are calling about today?"
}